!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-fetch")):"function"==typeof define&&define.amd?define(["exports","d3-fetch"],t):t(n.fc=n.fc||{},n.d3)}(this,function(n,t){"use strict";var e=function(){var n="BTC-USD",e=null,u=null,r=null,o=function(){var o=[];null!=e&&o.push("start="+e.toISOString()),null!=u&&o.push("end="+u.toISOString()),null!=r&&o.push("granularity="+r);var l="https://api.gdax.com/products/"+n+"/candles?"+o.join("&");return t.json(l).then(function(n){return n.map(function(n){return{date:new Date(1e3*n[0]),open:n[3],high:n[2],low:n[1],close:n[4],volume:n[5]}})})};return o.product=function(t){return arguments.length?(n=t,o):n},o.start=function(n){return arguments.length?(e=n,o):e},o.end=function(n){return arguments.length?(u=n,o):u},o.granularity=function(n){return arguments.length?(r=n,o):r},o},u=function(){function n(n){return n[0].toLowerCase()+n.substr(1)}var e="YAHOO",u="GOOG",r=null,o=null,l=null,a=null,i=!1,c=null,s=n,f=function(){var n=[];null!=r&&n.push("api_key="+r),null!=o&&n.push("start_date="+o.toISOString().substring(0,10)),null!=l&&n.push("end_date="+l.toISOString().substring(0,10)),null!=a&&n.push("rows="+a),i||n.push("order=asc"),null!=c&&n.push("collapse="+c);var f="https://www.quandl.com/api/v3/datasets/"+e+"/"+u+"/data.json?"+n.join("&");return t.json(f).then(function(n){var t=n.dataset_data,e=s||function(n){return n},u=t.column_names.map(function(n,t){return[t,e(n)]}).filter(function(n){return n[1]});return t.data.map(function(n){var t={};return u.forEach(function(e){t[e[1]]=0===e[0]?new Date(n[e[0]]):n[e[0]]}),t})})};return f.database=function(n){return arguments.length?(e=n,f):e},f.dataset=function(n){return arguments.length?(u=n,f):u},f.apiKey=function(n){return arguments.length?(r=n,f):r},f.start=function(n){return arguments.length?(o=n,f):o},f.end=function(n){return arguments.length?(l=n,f):l},f.rows=function(n){return arguments.length?(a=n,f):a},f.descending=function(n){return arguments.length?(i=n,f):i},f.collapse=function(n){return arguments.length?(c=n,f):c},f.columnNameMap=function(n){return arguments.length?(s=n,f):s},f.defaultColumnNameMap=n,f};n.feedGdax=e,n.feedQuandl=u,Object.defineProperty(n,"__esModule",{value:!0})});